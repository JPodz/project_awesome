<div ng-controller="StatsController">

	<div stat-time-directive></div>

	<div ng-controller="EfsStatsController" ng-cloak>
		<div class="row">
			<div class="col-md-3">
				<div class="main-box small-graph-box emerald-bg efs-referrals-box">
					<span class="value">{{totalReferrals}}</span>
					<span class="headline">Total Referrals</span>
					<div class="progress">
						<div style="width: {{percentageProductiveReferrals}}%;" aria-valuemax="100" aria-valuemin="0" aria-valuenow="84" role="progressbar" class="progress-bar"></div>
					</div>
					<span class="subinfo">
						{{getProductiveReferrals()}}
					</span>
					<span class="subinfo">
						{{getProductiveReferralsPercentage()}}
					</span>
				</div>
			</div>
			<div class="col-md-3">
				<div class="main-box infographic-box efs-infographic">
					<i class="fa fa-user red-bg"></i>
					<span class="headline">Total IPS</span>
					<span class="value">
						<span class="timer">
						{{totalIPS | number}}
						</span>
					</span>
				</div>
			</div>
			<div class="col-md-3">
				<div class="main-box infographic-box efs-infographic">
					<i class="fa fa-shopping-cart emerald-bg"></i>
					<span class="headline">Total PC</span>
					<span class="value">
						<span class="timer">
						{{totalPC | number}}
						</span>
					</span>
				</div>
			</div>
			<div class="col-md-3">
				<div class="main-box infographic-box efs-infographic">
					<i class="fa fa-money green-bg"></i>
					<span class="headline">Total Insurance</span>
					<span class="value">
						<span class="timer">{{totalInsurance | number}}
						</span>
					</span>
				</div>
			</div>
		</div>
		<div class="row" ng-show="mostTotalClients">
			<div class="col-lg-12">
				<div class="main-box clearfix productive-referrals-callout">
					<header class="main-box-header clearfix">
						<h2>Most Productive Producers</h2>
					</header>
					<div class="main-box-body clearfix">
						<ul class="widget-users row">
							<li class="col-md-4">
								<i class="fa fa-users" style="color: #e7ebee;font-size: 35px;float: left;"></i>
								<div class="details">
									<strong>Most Total Clients</strong><br />
									{{mostTotalClients.user.fullName}}<br />
									{{mostTotalClients.callout}} Clients<br />
									Supervising Agent: {{mostTotalClients.supervisor.fullName}}
								</div>
							</li>
							<li class="col-md-4" ng-show="mostProductiveReferrals.callout">
								<i class="fa fa-cogs" style="color: #e7ebee;font-size: 35px;float: left;"></i>
								<div class="details">
									<strong>Most Productive Referrals</strong><br />
									{{mostProductiveReferrals.user.fullName}}<br />
									{{mostProductiveReferrals.callout}} Referrals<br />
									Supervising Agent: {{mostProductiveReferrals.supervisor.fullName}}
								</div>
							</li>
							<li class="col-md-4" ng-show="highestPercentageProductiveReferrals.callout">
								<i class="fa fa-trophy" style="color: #e7ebee;font-size: 35px;float: left;"></i>
								<div class="details">
									<strong>Highest Percentage of Productive Referrals</strong><br />
									{{highestPercentageProductiveReferrals.user.fullName}}<br />
									{{highestPercentageProductiveReferrals.callout | number : 2}}%<br />
									Supervising Agent: {{highestPercentageProductiveReferrals.supervisor.fullName}}
								</div>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="row">
    <div class="col-lg-12">
        @* Fresh Referrals Directive *@
    <div class="main-box fresh-referral" upcoming-appts></div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        @* Fresh Referrals Directive *@
    <div class="main-box fresh-referral" upcoming-referrals></div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        @* Fresh Referrals Directive *@
    <div class="main-box fresh-referral" fresh-referrals></div>
    </div>
</div>
