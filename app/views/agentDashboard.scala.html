<div class="row">
    <div class="col-lg-12">
        <div ng-controller="StatsController" class="col-lg-12 main-box">

        <div stat-time-directive class="main-box-header"></div>

        <div ng-controller="AgentStatsController" ng-cloak class="main-box-body">
            <div class="row">
                <div class="col-lg-3 col-sm-6 col-xs-12">
                    <div class="main-box small-graph-box emerald-bg efs-referrals-box">
                        <span class="value">{{totalReferrals}}</span>
                        <span class="headline">Total Referrals</span>
                        <div class="progress">
                            <div style="width: {{percentageProductiveReferrals}}%;" aria-valuemax="100" aria-valuemin="0" aria-valuenow="84" role="progressbar" class="progress-bar"></div>
                        </div>
                        <span class="subinfo">
                            {{getProductiveReferrals()}}
                        </span>
                        <span class="subinfo">
                            {{getProductiveReferralsPercentage()}}
                        </span>
                    </div>
                </div>
            </div>
            <div class="row" ng-show="mostTotalClients && mostProductiveReferrals && highestPercentageProductiveReferrals">
                <div class="col-lg-12">
                    <div class="main-box clearfix productive-referrals-callout">
                        <header class="main-box-header clearfix">
                            <h2>Most Productive Producers</h2>
                        </header>
                        <div class="main-box-body clearfix">
                            <ul class="widget-users row">
                                <li class="col-md-4">
                                    <strong>Most Total Clients</strong><br />
                                    {{mostTotalClients.user.fullName}}<br />
                                    {{mostTotalClients.callout}} Clients<br />
                                    Supervising Agent: {{mostTotalClients.supervisor.fullName}}
                                </li>
                                <li class="col-md-4" ng-show="mostProductiveReferrals.callout">
                                    <strong>Most Productive Referrals</strong><br />
                                    {{mostProductiveReferrals.user.fullName}}<br />
                                    {{mostProductiveReferrals.callout}} Referrals<br />
                                    Supervising Agent: {{mostProductiveReferrals.supervisor.fullName}}
                                </li>
                                <li class="col-md-4" ng-show="highestPercentageProductiveReferrals.callout">
                                    <strong>Highest Percentage of Productive Referrals</strong><br />
                                    {{highestPercentageProductiveReferrals.user.fullName}}<br />
                                    {{highestPercentageProductiveReferrals.callout | number : 2}}%<br />
                                    Supervising Agent: {{highestPercentageProductiveReferrals.supervisor.fullName}}
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
</div>
<div class="row">
    <div class="col-lg-12">
        <div client-search-directive></div>
    </div>
</div>
<div class="row">
    <div class="col-lg-12">
        <div class="main-box" referrals-by-creator></div>
    </div>
</div>